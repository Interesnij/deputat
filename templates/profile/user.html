{% extends "base.html" %}
{% block title %}{{ user.get_full_name }}{% endblock %}
{% block content %}

<div class="content-body">
    <section class="app-user-edit">
        <div class="card">
            <div class="card-body">
                <ul class="nav nav-pills">
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center active">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <span class="d-none d-sm-block">Профиль</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'user_news' pk=user.pk %}" class="nav-link d-flex align-items-center ajax">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-3">
                                <path d="M12 20h9"></path>
                                <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                            </svg>
                            <span class="d-none d-sm-block">Новости</span>
                        </a>
                    </li>
                    {% if user.user_private.subscribers %}
                    <li class="nav-item">
                        <a href="{% url 'subscribe_elects' pk=user.pk %}" class="nav-link d-flex align-items-center ajax">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-check">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="8.5" cy="7" r="4"></circle>
                                <polyline points="17 11 19 13 23 9"></polyline>
                            </svg>
                            <span class="d-none d-sm-block">Подписки</span>
                        </a>
                    </li>
                    {% endif %}
                    <li class="nav-item">
                        <a href="{% url 'user_gallery' pk=user.pk %}" class="nav-link d-flex align-items-center ajax">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-check">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="8.5" cy="7" r="4"></circle>
                                <polyline points="17 11 19 13 23 9"></polyline>
                            </svg>
                            <span class="d-none d-sm-block">Галерея</span>
                        </a>
                    </li>
                </ul>
                <div class="row">
                    <div class="col-lg-8 col-md-7">
                        <div class="card user-card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-xl-6 col-lg-12 d-flex flex-column justify-content-between border-container-lg">
                                        <div class="user-avatar-section">
                                            <div class="d-flex justify-content-start">
                                                <img class="img-fluid" src="{{ user.get_avatar }}" alt="User avatar" style="height: 100px;">
                                                <div class="d-flex flex-column ml-1">
                                                    <div class="user-info mb-1">
                                                        <h4 class="mb-0">{{ user.get_full_name }}</h4>
                                                        <span class="card-text"></span>
                                                    </div>
                                                    <div class="d-flex flex-wrap">
                                                        {% if user.pk == request.user.pk %}
                                                          <a href="{% url 'settings_profile' %}" class="card-text user-info-title font-weight-bold mb-0 ajax">Настройки</a>
                                                          &nbsp;&nbsp;
                                                          <a href="{% url 'user_cuberture_week' %}" class="card-text user-info-title font-weight-bold mb-0 ajax">Статистика</a>
                                                          &nbsp;&nbsp;
                                                          <a href="{% url 'user_transactions' %}" class="card-text user-info-title font-weight-bold mb-0 ajax">Движения кармы</a>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-12 mt-2 mt-xl-0">
                                        <div class="user-info-wrapper">
                                            <div class="d-flex flex-wrap">
                                                <div class="user-info-title">
                                                    <span class="card-text user-info-title font-weight-bold mb-0">Активность</span>
                                                </div>
                                                <p class="card-text mb-0" style="margin-left: auto;">{{ user.get_online_display|safe }}</p>
                                            </div>
                                            <div class="d-flex flex-wrap my-50">
                                                <div class="user-info-title">
                                                    <span class="card-text user-info-title font-weight-bold mb-0">Регистрация</span>
                                                </div>
                                                <p class="card-text mb-0" style="margin-left: auto;">{{ user.date_joined }}</p>
                                            </div>
                                            {% if user.user_private.city %}
                                            <div class="d-flex flex-wrap my-50">
                                                <div class="user-info-title">
                                                    <span class="card-text user-info-title font-weight-bold mb-0">Регион</span>
                                                </div>
                                                <p class="card-text mb-0" style="margin-left: auto;">{{ user.city.region }}</p>
                                            </div>
                                            <div class="d-flex flex-wrap my-50">
                                                <div class="user-info-title">
                                                    <span class="card-text user-info-title font-weight-bold mb-0">Город</span>
                                                </div>
                                                <p class="card-text mb-0" style="margin-left: auto;">{{ user.city }}</p>
                                            </div>
                                            {% endif %}

                                            {% if user.user_private.old %}
                                            <div class="d-flex flex-wrap my-50">
                                                <div class="user-info-title">
                                                    <span class="card-text user-info-title font-weight-bold mb-0">Дата рождения</span>
                                                </div>
                                                <p class="card-text mb-0" style="margin-left: auto;">{{ user.get_age }}</p>
                                            </div>
                                            {% endif %}

                                            {% if user.user_private.other %}
                                            <div class="d-flex flex-wrap my-50">
                                                <div class="user-info-title">
                                                    <span class="card-text user-info-title font-weight-bold mb-0">Образование</span>
                                                </div>
                                                <p class="card-text mb-0" style="margin-left: auto;">{{ user.user_info.get_education_display }}</p>
                                            </div>
                                            <div class="d-flex flex-wrap my-50">
                                                <div class="user-info-title">
                                                    <span class="card-text user-info-title font-weight-bold mb-0">Сфера занятости</span>
                                                </div>
                                                <p class="card-text mb-0" style="margin-left: auto;">{{ user.user_info.get_employment_display }}</p>
                                            </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-5">
                        <div class="card plan-card border-primary" style="border: 1px solid #7367F0 !important;">
                            <div class="card-header d-flex justify-content-between align-items-center pt-75 pb-1">
                                <h5 class="mb-0">Карма {{ request.user.point }}, уровень {{ request.user.level }}</h5>
                            </div>
                            <div class="card-body">
                                <ul class="list-unstyled my-1">
                                    <li>
                                        <span class="align-middle">Оцените что-нибудь</span>
                                    </li>
                                    <li class="my-25">
                                        <span class="align-middle">Преложите новость</span>
                                    </li>
                                    <li>
                                        <span class="align-middle">Подпишиетсь на депутата</span>
                                    </li>
                                </ul>
                                <button class="btn btn-primary text-center btn-block">
                                    За что дают карму
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}
