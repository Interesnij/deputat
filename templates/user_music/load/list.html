{% load filters %}

<div class="container mt-3 pk_saver" list-pk="{{ playlist.pk }}" data-uuid="{{ playlist.uuid }}">
  <div class="row no-gutters">
    {% if playlist|is_user_can_add_list:request.user.pk %}
    <div style="flex: 0 0 40%;max-width:40%;padding:5px;">
        <a class="btn btn-sm border u_copy_playlist" style="width: -webkit-fill-available;font-size: 19px;">Добавить</a>
    </div>
    {% elif request.user.pk in playlist.get_users_ids %}
    <div style="flex: 0 0 40%;max-width:40%;padding:5px;">
        <a class="btn btn-sm border u_uncopy_playlist" style="width: -webkit-fill-available;font-size: 19px;">Удалить</a>
    </div>
    {% endif %}
    <div style="flex: 0 0 40%;max-width:40%;padding:5px;">
        <a class="btn btn-sm border playlist_claim" style="width: -webkit-fill-available;font-size: 19px;">Жалоба</a>
    </div>
    <div style="flex: 0 0 20%;max-width:20%;padding:5px;">
      <a class="btn btn-sm border photo_fullscreen_hide_2" style="width: -webkit-fill-available;">
        <svg fill="currentColor" class="svg_default" style="width: 17px;" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
      </a>
    </div>
  </div>

  <div class="media mt-3" style="display:flex;align-items: flex-start">
    <h5 class="mt-1" style="flex: 1;">
      {{ playlist.name }} ({{ playlist.count_tracks }}) - плейлист
      <a href="{% url 'user' pk=playlist.creator.pk %}" class="ajax underline">
        {{ playlist.creator.get_full_name_genitive }}
      </a>
    </h5>
  </div>

<div class="row is_load_paginate no-gutters" data-link="/music/load/{{ playlist.pk }}/">
{% for object in object_list %}
  {% include 'user_music/track.html' %}
{% endfor %}
</div>
