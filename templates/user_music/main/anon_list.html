{% extends "base.html" %}
{% block title %}{{ list.title }} | Аудиозаписи {{ user.get_full_name_genitive }}{% endblock %}
{% block content %}

<div class="container mt-3 pk_saver" data-pk="{{ user.pk }}" data-uuid="{{ list.uuid }}">
    <div class="card-header p-0">
        <div class="row no-gutters">
            <div style="flex: 0 0 20%;max-width:20%;padding:5px;">
                {% include 'generic/user/user_back.html' %}
            </div>
        </div>
    </div>

    {% include 'user_docs/main/lists.html' %}

    <div class="media mt-3" style="display:flex;align-items: flex-start;padding-left: 7px;padding-right: 7px;">
        <h5 class="mt-1" style="flex: 1;">Аудиозаписи {{ user.get_full_name_genitive }} ({{ list.count_tracks }})</h5>
    </div>

    <div class="row is_paginate no-gutters">
        {% if object_list %}

        {% for object in object_list %}
        <div class="col-md-6 col-sm-12 pag {% if forloop.last %}last{% endif %}" style="padding:3px">
          <div class="media" music-counter="{{ forloop.counter0|add:page_obj.start_index }}" style="align-items: unset;position: relative;">
              <figure>
                <a class="pointer music_list_item">
                  {% if object.artwork_url %}
                    <img style="width:40px;heigth:auto" src="{{ object.artwork_url.url }}" />
                  {% else %}
                    <svg fill="currentColor" style="width:40px;heigth:40px" class='svg_default' viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"/></svg>
                  {% endif %}
                </a>
              </figure>
              <div class="media-body" style="line-height: 0.4;">
                  <h6 class="music_list_item pointer" style="width: 80%;overflow: hidden;"><a>{{ object.title }}</a></h6>
                  <a class="ajax" href="{% url 'user' pk=object.creator.pk %}">{{ object.creator.get_full_name }}</a>

                  <span class='span_btn' style="float:right;margin-top: -25px;display:flex" data-pk="{{ object.pk }}">
                    {% include 'user_music/add_dropdown.html' %}
                    <div class="dropdown" style="position: inherit;">
                        <a class="btn_default drop pointer">
                            <svg class="svg_info" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M0 0h24v24H0z" fill="none" />
                                <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                            </svg>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" style="top: 42px;">
                            <span class="dropdown-item u_track_edit">Изменить</span>
                        </div>
                    </div>
                  </span>
              </div>
          </div>
        </div>
        {% endfor %}

        {% else %}
        <div class="card mb-3 centered track_empty" style="width:100%;">
            <h6 style="margin: 20px;text-align: center;"> Аудиозаписей пока нет...</h6>
        </div>

        {% endif %}
    </div>

</div>

{% endblock %}
